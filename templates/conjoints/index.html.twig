{% extends 'base.html.twig' %}

{% block title %}Conjoints disponibles - PrÃªte Ton Conjoint{% endblock %}

{% block body %}
<div class="card">
    <div class="card-header">
        <h1 class="card-title">Conjoints prÃ¨s de chez vous</h1>
        <p style="color: var(--text-light); text-align: center;">DÃ©couvrez des conjoints rien que pour vous</p>
    </div>

    {% if conjoints|length > 0 %}
        <div class="conjoints-list">
            {% for conjoint in conjoints %}
                <div class="conjoint-card">
                    <div class="conjoint-image">
                        <img src="{{ asset('uploads/' ~ conjoint.img) }}" alt="Photo de {{ conjoint.pseudo }}">
                    </div>
                    
                    <div class="conjoint-info">
                        <div class="conjoint-header">
                            <h3 class="conjoint-title">{{ conjoint.pseudo }}</h3>
                            <span class="conjoint-badge">{{ conjoint.categorie }}</span>
                        </div>
                        
                        <div class="conjoint-details">
                            <div class="detail-row">
                                <span class="detail-label">Ã‚ge:</span>
                                <span class="detail-value">{{ conjoint.age }} ans</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Genre:</span>
                                <span class="detail-value">{{ conjoint.sexe }}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Note:</span>
                                <span class="detail-rating">â˜…â˜…â˜…â˜…â˜†</span>
                            </div>
                        </div>

                        <div class="conjoint-actions">
                            {% if app.user %}
                                <a href="{{ path('app_conjoints_show', {'id': conjoint.id}) }}">
                                    <button>Voir le profil</button>
                                </a>
                            {% else %}
                                <a href="{{ path('app_login') }}">
                                    <button class="btn-secondary">Se connecter pour voir</button>
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div style="text-align: center; padding: 3rem 2rem;">
            <div style="font-size: 4rem; margin-bottom: 1rem;">ðŸ‘¥</div>
            <h3 style="color: var(--text-light); margin-bottom: 1rem;">Aucun profil disponible</h3>
            <p style="color: var(--text-light); margin-bottom: 2rem;">Il n'y a actuellement aucun conjoint disponible dans votre quartier.</p>
            {% if app.user %}
                <a href="{{ path('app_conjoints_new') }}">
                    <button>Soyez le premier Ã  ajouter un profil</button>
                </a>
            {% else %}
                <a href="{{ path('app_register') }}">
                    <button>CrÃ©er un compte pour commencer</button>
                </a>
            {% endif %}
        </div>
    {% endif %}
</div>

{% if app.user %}
    <div style="text-align: center; margin-top: 2rem;">
        <a href="{{ path('app_conjoints_new') }}">
            <button style="font-size: 1.1rem; padding: 15px 30px;">
                + Ajouter un nouveau profil
            </button>
        </a>
    </div>
{% endif %}
{% endblock %}
